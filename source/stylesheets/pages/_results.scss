$avatar-width: 90px;
$delay: 300ms;
$duration: 0.5s;
$gauge-hand-width: 51px;
$gauge-hand-height: 8px;

.results-page {
}

.results-page .content-container {
	padding-bottom: 0;
	margin-bottom: 0;
}

.results-page [role='main'] {
	margin-bottom: 0;
}

.fancy-form--rebuild {
}

.fancy-form--rebuild p {
}

.results {
	padding-top: $line-height * 3rem;
	padding-bottom: $line-height * 3rem;
}

[id='results__count'] {
	padding-right: 0.25em;
	padding-left: 0.25em;

	color: palette('white');

	background-color: palette('purple');
}

.results__list {
	&[aria-busy='true'] {
		min-height: 18.75rem;

		&::after {
			background-color: transparent;
		}
	}

	@media screen and (min-width: breakpoint('tablet')) {
		margin-right: $gutter / -2;
		margin-left: $gutter / -2;
	}
}

.results__data {
	display: flex;

	align-items: stretch;
	flex-wrap: wrap;
	justify-content: space-between;
}

.results__profile {
	position: relative;
	top: 0;

	margin: 0 0 ($line-height * 1em);

	text-align: left;

	cursor: pointer;

	transition-delay: $delay;
	transition-duration: $duration;
	transition-property: top, padding;

	@media screen and (min-width: breakpoint('tablet')) {
		width: 50%;

		padding: 0 ($gutter / 2);
	}

	@media screen and (min-width: breakpoint('desktop')) {
		display: flex;

		flex-basis: 30%;
		flex-direction: column;

		width: 100%;
	}

	&:only-child {
		display: block;

		width: 100%;
		max-width: 36rem;

		margin-right: auto;
		margin-left: auto;
	}

	&:hover:not(:only-child) {
		top: $line-height * -0.5em;

		transition-delay: 0;
	}

	&:only-child,
	&:focus {
		top: 0;

		z-index: layer('modal');

		padding: 0;

		cursor: default;

		outline: 0;

		transition-duration: $duration;
		transition-property: top, padding;
	}

	&:focus::after {
		position: fixed;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;

		z-index: layer('below');

		pointer-events: none;

		background-color: palette('shadow');

		content: '';

		animation: fade-in $duration;

		@at-root {
			@keyframes fade-in {
				0% {
					opacity: 0;
				}

				100% {
					opacity: 1;
				}
			}
		}
	}
}

.profile__analysis-results-wrapper {
	display: flex;

	flex-basis: 60%;
	flex-direction: column;
	justify-content: stretch;

	margin-bottom: $line-height * 1em;
}


.results__fieldset {
	text-align: center;
}

.results__profile > *:not(button):not(footer) {
	background-color: palette('gray', 'x-light');

	box-shadow: 0 0 0 palette('shadow');

	transition-delay: $delay;
	transition-duration: $duration;
	transition-property: box-shadow;
}


.profile__close-button {
	position: absolute;
	top: 0;
	left: $gutter;

	z-index: layer('modal');

	padding: 0;

	font-size: 2em;

	color: palette('gray');

	background-color: transparent;

	border: 0;

	.results__profile:only-child > &,
	.results__profile:focus > & {
		display: none;
	}

	&:hover,
	&:focus {
		color: palette('purple');

		background-color: transparent;

		border: 0;
	}
}

.profile__analysis-summary {
	display: flex;

	flex-direction: column;
	flex-grow: 1;
	justify-content: space-between;

	padding-top: $line-height * 1em;
	padding-bottom: $line-height * 1em;
}

.profile__data {
	position: relative;
	top: 0;

	z-index: layer('dropdown');

	margin-top: 0;
	margin-right: 0;
	margin-bottom: 0;
	margin-left: 0;

	text-align: center;

	transition: margin $duration, top $duration;

	.results__profile:only-child &,
	.results__profile:focus & {
		top: $avatar-width * -0.35;

		margin-bottom: $avatar-width * -0.35;

		transition: margin $duration, top $duration;
	}
}

.profile__data img {
	display: block;

	width: $avatar-width;
	height: $avatar-width;

	margin-top: -72px;
	margin-right: auto;
	margin-bottom: $line-height * 1em;
	margin-left: auto;

	border-radius: 50%;
}

.profile__data figcaption {
	z-index: layer('default');

	font-size: ms(2);
	font-family: $title-font-stack;

	color: palette('gauge', 'level-1');

	.results__profile:only-child &,
	.results__profile:focus & {
		color: palette('purple');
	}
}

.profile__result {
	position: relative;

	display: block;

	margin-right: auto;
	margin-left: auto;

	font-size: ms(2);
	font-family: $title-font-stack;

	text-align: center;

	color: palette('black');
}

.profile__gauge {
	display: block;

	width: $avatar-width;

	margin-right: auto;
	margin-left: auto;
}

.profile__meter {
	@include visually-hidden;
}

.profile__analysis-results {
	padding-right: ($gutter / 2);
	padding-left: ($gutter / 2);

	font-size: ms(-1);
	line-height: 2;
}

.profile__analysis-results h3 {
	font-size: ms(0);

	text-align: center;
	text-transform: none;

	color: inherit;
}

.profile__analysis-results dl {
}

.profile__analysis-results dl > div {
	display: flex;

	flex-wrap: wrap;

	font-weight: 700;
	font-size: ms(-1);
}

.profile__analysis-results dt,
.profile__analysis-results dd {
	color: palette('blue', 'dark');
}

.profile__analysis-results dt {
	flex-grow: 1;

	font-size: ms(-1);
}

.profile__analysis-results dd {
	margin-bottom: 0;

	font-weight: 900;
}

.profile__analysis-results .progress-bar {
	flex-basis: 100%;
}

.progress-value::before {
	.test-result--level-1 & {
		color: palette('gauge', 'level-1');
	}

	.test-result--level-2 & {
		color: palette('gauge', 'level-2');
	}

	.test-result--level-3 & {
		color: palette('gauge', 'level-3');
	}

	.test-result--level-4 & {
		color: palette('gauge', 'level-4');
	}

	.test-result--level-5 & {
		color: palette('gauge', 'level-5');
	}
}

.profile__analysis-results--consolidated {
	border-bottom: 1px solid palette('gray');
}

.profile__analysis-results--consolidated dd {
	font-size: ms(0);
}

.profile__links {
	display: flex;

	align-items: flex-end;

	width: 100%;

	padding-right: 24px;
	padding-left: 24px;

	line-height: $line-height * 2;

	text-overflow: ellipsis;
	white-space: nowrap;

	color: palette('white');

	background-color: palette('blue');
}

.profile__links nav {
	display: block;
}

.profile__links ul {
	display: table;

	margin-bottom: 0;

	table-layout: fixed;
}

.profile__buttons-list {
	display: table;

	justify-content: space-evenly;

	width: 100%;
	max-width: none;

	padding: 0;
	margin: 0;
}

.profile__buttons-item {
	display: table-cell;

	flex-grow: 1;

	&::before {
		content: none;
	}
}

.profile__buttons {
	text-overflow: ellipsis;

	&:disabled {
		color: palette('disabled', 'foreground');

		&:hover,
		&:focus {
			background-color: transparent;
		}
	}
}

.profile__buttons button {
	width: auto;

	margin-right: auto;
	margin-left: auto;
}

.profile__links p {
	margin: 0;

	font-weight: 700;
	font-size: ms(-1);

	white-space: normal;

	color: palette('orange');
}

.profile__links li {
	display: table-cell;

	padding: 0;

	&::before {
		content: none;
	}
}

.profile__links button,
.profile__links a {
	@include image-replacement;

	position: static;

	display: block;

	width: 100%;
	height: 100%;

	padding-top: 0;
	padding-bottom: 0;
	margin: 0;

	line-height: inherit;

	color: inherit;

	background-position: 50% 50%;

	border: 0;
	border-radius: 0;

	&:hover,
	&:focus {
		color: inherit;

		background-color: palette('purple');

		box-shadow: none;
	}
}

.profile__links a {
}

.profile__links .profile a {
	background-image: image('twitter-icon.png');
}

.profile__links .details a {
	background-image: image('details-icon.png');
}

.profile__links .share a {
	background-image: image('share-icon.png');
	background-size: 18px 18px;
}

.profile__links .share__tweet a {
	background-image: image('share__twitter.svg');
}

.profile__links .share__whatsapp a {
	background-image: image('share__whatsapp.svg');
}

.profile__links .share__facebook a {
	background-image: image('share__facebook.svg');
}

.profile__links .feedback a {
	background-image: image('feedback-icon.png');
}

.results__footer {
	padding: ($gutter / 2) $gutter;
	margin-right: $gutter * -1;
	margin-left: $gutter * -1;

	font-size: 1rem;

	text-align: center;

	@media screen and (min-width: breakpoint('tablet')) {
		padding: $gutter;
	}
}

.results__footer a {
	z-index: layer('default');
}

.results__footer p {
	@media screen and (min-width: breakpoint('tablet')) {
		display: inline-block;

		height: $line-height * 1em;

		padding-right: $gutter;
		margin-bottom: 0;

		vertical-align: middle;
	}
}

.results__footer button {
	display: inline-block;

	padding-top: 0;
	padding-right: $line-height * 0.5em;
	padding-bottom: 0;
	padding-left: $line-height * 0.5em;
	margin-bottom: 0;

	vertical-align: middle;

	color: inherit;

	background-color: transparent;

	border-color: currentColor;

	&::before {
		vertical-align: text-bottom;

		content: '\25a0\a0';
	}
}
