<form action="{{ .RelPermalink }}#results__list" method="get" name="analisys_form" class="analisys-form">
	<fieldset>
		<legend>{{ i18n "toCatchThatBot" }}</legend>

		<fieldset class="analysis-form__search-fields">
			<p class="analisys-form__social-network" hidden>
				<label for="social-network">
					{{ i18n "socialNetwork" }}
				</label>
				<select name="socialnetwork" id="social-network">
					<option selected required value="twitter">@</option>
				</select>
			</p>

			<p class="analisys-form__profile">
				<input
					required
					type="search"
					name="profile"
					id="profile"
					placeholder=" "
					aria-labelledby="profile-label"
				>
				<label
					for="profile"
					id="profile-label"
				>
					{{ i18n "twitterProfile" }}
				</label>
			</p>
		</fieldset>

		<input type="hidden" name="limit" value="{{ $.Site.Params.searchlimit | default 12 }}" />

		<button name="search_for" value="profile" type="submit" class="analysis-form__profile-button" id="analysis-form__profile-button">{{ i18n "toCatch" }}</button>
	</fieldset>
</form>

<script>
	var profile = document.getElementById('profile');

	profile.addEventListener('blur', function(e){
		var value = e.target.value;

		var regex = /(?:https?:\/\/)?(?:www)?\.(:?twitter\.com\/)/gi;

		value = value.replace(regex, '');

		if (!!value && value.indexOf('@') !== 0){
			value = '@' + value;
		}

		e.target.value = value;
	}, false);

</script>
